{"version":3,"file":"ngx-file-drop.umd.js.map","sources":["ng://ngx-file-drop/src/lib/ngx-drop/upload-file.model.ts","ng://ngx-file-drop/src/lib/ngx-drop/upload-event.model.ts","ng://ngx-file-drop/src/lib/ngx-drop/file-drop.component.ts","ng://ngx-file-drop/src/lib/ngx-drop/file-drop.module.ts"],"sourcesContent":["import { FileSystemEntry, FileSystemFileEntry, FileSystemDirectoryEntry } from './dom.types';\r\n\r\n/**\r\n * fileEntry is an instance of {@link FileSystemFileEntry} or {@link FileSystemDirectoryEntry}.\r\n * Which one is it can be checked using {@link FileSystemEntry.isFile} or {@link FileSystemEntry.isDirectory}\r\n * properties of the given {@link FileSystemEntry}.\r\n */\r\nexport class UploadFile {\r\n    constructor(\r\n        public relativePath: string,\r\n        public fileEntry: FileSystemEntry) {\r\n    }\r\n}\r\n","import { UploadFile } from './upload-file.model';\r\n\r\nexport class UploadEvent {\r\n    constructor(\r\n        public files: UploadFile[]) {\r\n    }\r\n}\r\n","import {\r\n  Component,\r\n  Input,\r\n  Output,\r\n  EventEmitter,\r\n  NgZone,\r\n  OnDestroy,\r\n  Renderer2,\r\n  ViewChild,\r\n  ElementRef\r\n} from '@angular/core';\r\nimport { timer, Subscription } from 'rxjs';\r\n\r\nimport { UploadFile } from './upload-file.model';\r\nimport { UploadEvent } from './upload-event.model';\r\nimport { FileSystemFileEntry, FileSystemEntry, FileSystemDirectoryEntry } from './dom.types';\r\n\r\n@Component({\r\n  selector: 'file-drop',\r\n  templateUrl: './file-drop.component.html',\r\n  styleUrls: ['./file-drop.component.scss'],\r\n})\r\nexport class FileComponent implements OnDestroy {\r\n\r\n  @Input()\r\n  public accept: string = '*';\r\n\r\n  @Input()\r\n  public dropZoneLabel: string = '';\r\n  /** @deprecated Will be removed in the next major version. Use `dropZoneLabel` instead. */\r\n  public get headertext(): string { return this.dropZoneLabel; }\r\n  /** @deprecated Will be removed in the next major version. Use `dropZoneLabel` instead. */\r\n  @Input()\r\n  public set headertext(value: string) {\r\n    this.dropZoneLabel = value;\r\n  }\r\n\r\n  @Input()\r\n  public dropZoneClassName: string = 'ngx-file-drop__drop-zone drop-zone';\r\n  /** @deprecated Will be removed in the next major version. Use `dropZoneClassName` instead. */\r\n  public get customstyle(): string { return this.dropZoneClassName; }\r\n  /** @deprecated Will be removed in the next major version. Use `dropZoneClassName` instead. */\r\n  @Input()\r\n  public set customstyle(value: string) {\r\n    this.dropZoneClassName = value;\r\n  }\r\n\r\n  @Input()\r\n  public contentClassName: string = 'ngx-file-drop__content content';\r\n  /** @deprecated Will be removed in the next major version. Use `contentClassName` instead. */\r\n  public get customContentStyle(): string { return this.contentClassName; }\r\n  /** @deprecated Will be removed in the next major version. Use `contentClassName` instead. */\r\n  @Input()\r\n  public set customContentStyle(value: string) {\r\n    this.contentClassName = value;\r\n  }\r\n\r\n  public get disabled(): boolean { return this._disabled; }\r\n  @Input()\r\n  public set disabled(value: boolean) {\r\n    this._disabled = (value != null && `${value}` !== 'false');\r\n  }\r\n  /** @deprecated Will be removed in the next major version. Use `disabled` instead. */\r\n  public get disableIf(): boolean { return this.disabled; }\r\n  /** @deprecated Will be removed in the next major version. Use `disabled` instead. */\r\n  @Input()\r\n  public set disableIf(value: boolean) {\r\n    this.disabled = value;\r\n  }\r\n\r\n  @Input()\r\n  public showBrowseBtn: boolean = false;\r\n  @Input()\r\n  public browseBtnClassName: string = 'btn btn-primary btn-xs ngx-file-drop__browse-btn';\r\n  /** @deprecated Will be removed in the next major version. Use `browseBtnClassName` instead. */\r\n  public get customBtnStyling(): string { return this.browseBtnClassName; }\r\n  /** @deprecated Will be removed in the next major version. Use `browseBtnClassName` instead. */\r\n  @Input()\r\n  public set customBtnStyling(value: string) {\r\n    this.browseBtnClassName = value;\r\n  }\r\n\r\n  @Input()\r\n  public browseBtnLabel: string = 'Browse files';\r\n\r\n  @Output()\r\n  public onFileDrop: EventEmitter<UploadEvent> = new EventEmitter<UploadEvent>();\r\n  @Output()\r\n  public onFileOver: EventEmitter<any> = new EventEmitter<any>();\r\n  @Output()\r\n  public onFileLeave: EventEmitter<any> = new EventEmitter<any>();\r\n\r\n  @ViewChild('fileSelector')\r\n  public fileSelector: ElementRef;\r\n\r\n  public isDraggingOverDropZone: boolean = false;\r\n\r\n  private globalDraggingInProgress: boolean = false;\r\n  private globalDragStartListener: () => void;\r\n  private globalDragEndListener: () => void;\r\n\r\n  private files: UploadFile[] = [];\r\n  private numOfActiveReadEntries: number = 0;\r\n\r\n  private helperFormEl: HTMLFormElement | null = null;\r\n  private fileInputPlaceholderEl: HTMLDivElement | null = null;\r\n\r\n  private dropEventTimerSubscription: Subscription | null = null;\r\n\r\n  private _disabled: boolean = false;\r\n\r\n  constructor(\r\n    private zone: NgZone,\r\n    private renderer: Renderer2\r\n  ) {\r\n    this.globalDragStartListener = this.renderer.listen('document', 'dragstart', (evt: Event) => {\r\n      this.globalDraggingInProgress = true;\r\n    });\r\n    this.globalDragEndListener = this.renderer.listen('document', 'dragend', (evt: Event) => {\r\n      this.globalDraggingInProgress = false;\r\n    });\r\n  }\r\n\r\n  public ngOnDestroy(): void {\r\n    if (this.dropEventTimerSubscription) {\r\n      this.dropEventTimerSubscription.unsubscribe();\r\n      this.dropEventTimerSubscription = null;\r\n    }\r\n    this.globalDragStartListener();\r\n    this.globalDragEndListener();\r\n    this.files = [];\r\n    this.helperFormEl = null;\r\n    this.fileInputPlaceholderEl = null;\r\n  }\r\n\r\n  public onDragOver(event: Event): void {\r\n    if (!this.isDropzoneDisabled()) {\r\n      if (!this.isDraggingOverDropZone) {\r\n        this.isDraggingOverDropZone = true;\r\n        this.onFileOver.emit(event);\r\n      }\r\n      this.preventAndStop(event);\r\n    }\r\n  }\r\n\r\n  public onDragLeave(event: Event): void {\r\n    if (!this.isDropzoneDisabled()) {\r\n      if (this.isDraggingOverDropZone) {\r\n        this.isDraggingOverDropZone = false;\r\n        this.onFileLeave.emit(event);\r\n      }\r\n      this.preventAndStop(event);\r\n    }\r\n  }\r\n\r\n  public dropFiles(event: DragEvent): void {\r\n    if (!this.isDropzoneDisabled()) {\r\n      this.isDraggingOverDropZone = false;\r\n      if (event.dataTransfer) {\r\n        event.dataTransfer.dropEffect = 'copy';\r\n        let items: FileList | DataTransferItemList;\r\n        if (event.dataTransfer.items) {\r\n          items = event.dataTransfer.items;\r\n        } else {\r\n          items = event.dataTransfer.files;\r\n        }\r\n        this.preventAndStop(event);\r\n        this.checkFiles(items);\r\n      }\r\n    }\r\n  }\r\n\r\n  public onBrowseButtonClick(event: MouseEvent): void {\r\n    if (this.fileSelector && this.fileSelector.nativeElement) {\r\n      (this.fileSelector.nativeElement as HTMLInputElement).click();\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Processes the change event of the file input and adds the given files.\r\n   * @param Event event\r\n   */\r\n  public uploadFiles(event: Event): void {\r\n    if (!this.isDropzoneDisabled()) {\r\n      if (event.target) {\r\n        const items = (event.target as HTMLInputElement).files || ([] as any);\r\n        this.checkFiles(items);\r\n        this.resetFileInput();\r\n      }\r\n    }\r\n  }\r\n\r\n  private checkFiles(items: FileList | DataTransferItemList): void {\r\n    for (let i = 0; i < items.length; i++) {\r\n      const item = items[i];\r\n      let entry: FileSystemEntry | null = null;\r\n      if (this.canGetAsEntry(item)) {\r\n        entry = item.webkitGetAsEntry();\r\n      }\r\n\r\n      if (!entry) {\r\n        if (item) {\r\n          const fakeFileEntry: FileSystemFileEntry = {\r\n            name: (item as File).name,\r\n            isDirectory: false,\r\n            isFile: true,\r\n            file: (callback: (filea: File) => void): void => {\r\n              callback(item as File);\r\n            },\r\n          };\r\n          const toUpload: UploadFile = new UploadFile(fakeFileEntry.name, fakeFileEntry);\r\n          this.addToQueue(toUpload);\r\n        }\r\n\r\n      } else {\r\n        if (entry.isFile) {\r\n          const toUpload: UploadFile = new UploadFile(entry.name, entry);\r\n          this.addToQueue(toUpload);\r\n\r\n        } else if (entry.isDirectory) {\r\n          this.traverseFileTree(entry, entry.name);\r\n        }\r\n      }\r\n    }\r\n\r\n    if (this.dropEventTimerSubscription) {\r\n      this.dropEventTimerSubscription.unsubscribe();\r\n    }\r\n    this.dropEventTimerSubscription = timer(200, 200)\r\n      .subscribe(() => {\r\n        if (this.files.length > 0 && this.numOfActiveReadEntries === 0) {\r\n          this.onFileDrop.emit(new UploadEvent(this.files));\r\n          this.files = [];\r\n        }\r\n      });\r\n  }\r\n\r\n  private traverseFileTree(item: FileSystemEntry, path: string): void {\r\n    if (item.isFile) {\r\n      const toUpload: UploadFile = new UploadFile(path, item);\r\n      this.files.push(toUpload);\r\n\r\n    } else {\r\n      path = path + '/';\r\n      const dirReader = (item as FileSystemDirectoryEntry).createReader();\r\n      let entries: FileSystemEntry[] = [];\r\n\r\n      const readEntries = () => {\r\n        this.numOfActiveReadEntries++;\r\n        dirReader.readEntries((result) => {\r\n          if (!result.length) {\r\n            // add empty folders\r\n            if (entries.length === 0) {\r\n              const toUpload: UploadFile = new UploadFile(path, item);\r\n              this.zone.run(() => {\r\n                this.addToQueue(toUpload);\r\n              });\r\n\r\n            } else {\r\n              for (let i = 0; i < entries.length; i++) {\r\n                this.zone.run(() => {\r\n                  this.traverseFileTree(entries[i], path + entries[i].name);\r\n                });\r\n              }\r\n            }\r\n\r\n          } else {\r\n            // continue with the reading\r\n            entries = entries.concat(result);\r\n            readEntries();\r\n          }\r\n\r\n          this.numOfActiveReadEntries--;\r\n        });\r\n      };\r\n\r\n      readEntries();\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Clears any added files from the file input element so the same file can subsequently be added multiple times.\r\n   */\r\n  private resetFileInput(): void {\r\n    if (this.fileSelector && this.fileSelector.nativeElement) {\r\n      const fileInputEl = this.fileSelector.nativeElement as HTMLInputElement;\r\n      const fileInputContainerEl = fileInputEl.parentElement;\r\n      const helperFormEl = this.getHelperFormElement();\r\n      const fileInputPlaceholderEl = this.getFileInputPlaceholderElement();\r\n\r\n      // Just a quick check so we do not mess up the DOM (will never happen though).\r\n      if (fileInputContainerEl !== helperFormEl) {\r\n        // Insert the form input placeholder in the DOM before the form input element.\r\n        this.renderer.insertBefore(fileInputContainerEl, fileInputPlaceholderEl, fileInputEl);\r\n        // Add the form input as child of the temporary form element, removing the form input from the DOM.\r\n        this.renderer.appendChild(helperFormEl, fileInputEl);\r\n        // Reset the form, thus clearing the input element of any files.\r\n        helperFormEl.reset();\r\n        // Add the file input back to the DOM in place of the file input placeholder element.\r\n        this.renderer.insertBefore(fileInputContainerEl, fileInputEl, fileInputPlaceholderEl);\r\n        // Remove the input placeholder from the DOM\r\n        this.renderer.removeChild(fileInputContainerEl, fileInputPlaceholderEl);\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Get a cached HTML form element as a helper element to clear the file input element.\r\n   */\r\n  private getHelperFormElement(): HTMLFormElement {\r\n    if (!this.helperFormEl) {\r\n      this.helperFormEl = this.renderer.createElement('form') as HTMLFormElement;\r\n    }\r\n\r\n    return this.helperFormEl;\r\n  }\r\n\r\n  /**\r\n   * Get a cached HTML div element to be used as placeholder for the file input element when clearing said element.\r\n   */\r\n  private getFileInputPlaceholderElement(): HTMLDivElement {\r\n    if (!this.fileInputPlaceholderEl) {\r\n      this.fileInputPlaceholderEl = this.renderer.createElement('div') as HTMLDivElement;\r\n    }\r\n\r\n    return this.fileInputPlaceholderEl;\r\n  }\r\n\r\n  private canGetAsEntry(item: any): item is DataTransferItem {\r\n    return !!item.webkitGetAsEntry;\r\n  }\r\n\r\n  private isDropzoneDisabled(): boolean {\r\n    return (this.globalDraggingInProgress || this.disabled);\r\n  }\r\n\r\n  private addToQueue(item: UploadFile): void {\r\n    this.files.push(item);\r\n  }\r\n\r\n  private preventAndStop(event: Event): void {\r\n    event.stopPropagation();\r\n    event.preventDefault();\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport {FileComponent} from './file-drop.component';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    FileComponent,\r\n  ],\r\n  exports: [FileComponent],\r\n  imports: [CommonModule],\r\n  providers: [],\r\n  bootstrap: [FileComponent],\r\n})\r\nexport class FileDropModule {}\r\n"],"names":["EventEmitter","timer","Component","NgZone","Renderer2","Input","Output","ViewChild","NgModule","CommonModule"],"mappings":"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"}
