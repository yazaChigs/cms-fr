<mat-grid-list cols="4" rowHeight="2:1">
  <!-- <mat-grid-tile>
    <mat-card class="full-width stat-card" [ngStyle]="{ 'background-color': randomColor1 }">
      <mat-card-header>
        <div mat-card-avatar ><mat-icon style="font-size: 50px;">account_balance</mat-icon></div>
        <mat-card-subtitle>Waiting</mat-card-subtitle>
        <mat-card-title>{{stats.waiting ? stats.waiting:0}}</mat-card-title>
      </mat-card-header>
    </mat-card>
  </mat-grid-tile> -->
  <mat-grid-tile><mat-card class="full-width stat-card" [ngStyle]="{ 'background-color': randomColor2 }">
      <mat-card-header>
        <div mat-card-avatar ><mat-icon style="font-size: 50px;">error_outline</mat-icon></div>
        <mat-card-subtitle>Pending</mat-card-subtitle>
        <mat-card-title>{{stats.pending ? stats.pending:0}}</mat-card-title>
      </mat-card-header>
    </mat-card>
  </mat-grid-tile>
  <mat-grid-tile><mat-card class="full-width stat-card" [ngStyle]="{ 'background-color': randomColor3 }">
      <mat-card-header>
        <div mat-card-avatar ><mat-icon style="font-size: 50px;">done_all</mat-icon></div>
        <mat-card-subtitle>Resolved</mat-card-subtitle>
        <mat-card-title>{{stats.resolved ? stats.resolved:0}}</mat-card-title>
      </mat-card-header>
    </mat-card>
  </mat-grid-tile>
  <mat-grid-tile><mat-card class="full-width stat-card" [ngStyle]="{ 'background-color': randomColor3 }">
    <mat-card-header>
      <div mat-card-avatar ><mat-icon style="font-size: 50px;">access_time</mat-icon></div>
      <mat-card-subtitle>OverDue</mat-card-subtitle>
      <mat-card-title>{{overDue}}</mat-card-title>
    </mat-card-header>
  </mat-card>
</mat-grid-tile>
  <mat-grid-tile><mat-card class="full-width stat-card" [ngStyle]="{ 'background-color': randomColor4 }">
      <mat-card-header>
        <div mat-card-avatar ><mat-icon style="font-size: 50px;">free_breakfast</mat-icon></div>
        <mat-card-subtitle>Free Assignees</mat-card-subtitle>
        <mat-card-title>{{stats.freeAssignees ? stats.freeAssignees:0}} / {{stats.allAssignees? stats.allAssignees:0}}</mat-card-title>
      </mat-card-header>
    </mat-card>
  </mat-grid-tile>
</mat-grid-list>

<!-- <form class="example-form">
  <mat-form-field class="example-full-width">
    <input type="text"
           placeholder="find by stan No"
           aria-label="Number"
           matInput
           [formControl]="myControl"
           [matAutocomplete]="auto">
    <mat-autocomplete #auto="matAutocomplete">
      <mat-option *ngFor="let option of filteredOptions | async" [value]="option.stanNo" (click)="findByResult(option.stanNo)">
        {{option.stanNo}}
      </mat-option>
    </mat-autocomplete>
  </mat-form-field>
</form>

<ngx-datatable class="material ngx-table-card" [rows]="list" [columnMode]="'force'"
[headerHeight]="50"
[footerHeight]="50"
[rowHeight]="'auto'"
[limit]="5">
  <ngx-datatable-column>
      <ng-template let-column="column" ngx-datatable-header-template>
          Query Type
      </ng-template>
      <ng-template let-row="row" ngx-datatable-cell-template>
           {{row.queryType}}
      </ng-template>
  </ngx-datatable-column>
  <ngx-datatable-column>
      <ng-template let-column="column" ngx-datatable-header-template>
         Category
      </ng-template>
      <ng-template let-row="row" ngx-datatable-cell-template>
          {{row.category?.name}}
      </ng-template>
  </ngx-datatable-column>
  <ngx-datatable-column>
    <ng-template let-column="column" ngx-datatable-header-template>
       Branch
    </ng-template>
    <ng-template let-row="row" ngx-datatable-cell-template>
        {{row.branch?.branchName | uppercase}}
    </ng-template>
</ngx-datatable-column>
<ngx-datatable-column>
    <ng-template let-column="column" ngx-datatable-header-template>
       Status
    </ng-template>
    <ng-template let-row="row" ngx-datatable-cell-template>
        {{row.status}}
    </ng-template>
</ngx-datatable-column>
<ngx-datatable-column>
  <ng-template let-column="column" ngx-datatable-header-template>
     Complainant
  </ng-template>
  <ng-template let-row="row" ngx-datatable-cell-template>
      {{row.fullname}}
  </ng-template>
</ngx-datatable-column>
<ngx-datatable-column>
  <ng-template let-column="column" ngx-datatable-header-template>
     Action Taken
  </ng-template>
  <ng-template let-row="row" ngx-datatable-cell-template>
      {{row.actionTaken}}
  </ng-template>
</ngx-datatable-column>
  <ngx-datatable-column>
      <ng-template let-rowIndex="rowIndex" let-row="row" ngx-datatable-cell-template>
          <div class="button-row">
              <button mat-icon-button (click)="editQuery(row)">
                  <mat-icon>border_color</mat-icon>
                </button>
          </div>
      </ng-template>
  </ngx-datatable-column>
</ngx-datatable> -->

<mat-form-field appearance="outline">
  <mat-label><mat-icon>search</mat-icon>filter</mat-label>
  <input matInput (keyup)="applyFilter($event)" placeholder="eg. 012345(stan no.)">
</mat-form-field>

<table mat-table [dataSource]="dataSource" class="mat-elevation-z8">

  <!-- Position Column -->
  <ng-container matColumnDef="stanNo">
    <th mat-header-cell *matHeaderCellDef> Stan No </th>
    <td mat-cell *matCellDef="let element"> {{element.stanNo}} </td>
  </ng-container>

  <!-- Name Column -->
  <ng-container matColumnDef="queryType">
    <th mat-header-cell *matHeaderCellDef> Query Type </th>
    <td mat-cell *matCellDef="let element"> {{element.queryType}} </td>
  </ng-container>

  <!-- Weight Column -->
  <ng-container matColumnDef="status">
    <th mat-header-cell *matHeaderCellDef> Status </th>
    <td mat-cell *matCellDef="let element"> {{element.status}} </td>
  </ng-container>

  <!-- Symbol Column -->
  <ng-container matColumnDef="category">
    <th mat-header-cell *matHeaderCellDef> Category </th>
    <td mat-cell *matCellDef="let element"> {{element.category?.name}} </td>
  </ng-container>

  <!-- Symbol Column -->
  <ng-container matColumnDef="actionTaken">
    <th mat-header-cell *matHeaderCellDef> Action Taken </th>
    <td mat-cell *matCellDef="let element"> {{element.actionTaken}} </td>
  </ng-container>

  <!-- Symbol Column -->
  <ng-container matColumnDef="amount">
    <th mat-header-cell *matHeaderCellDef> Amount </th>
    <td mat-cell *matCellDef="let element"> {{element.amount}} </td>
  </ng-container>

  <!-- Symbol Column -->
  <ng-container matColumnDef="complainant">
    <th mat-header-cell *matHeaderCellDef> Complainant </th>
    <td mat-cell *matCellDef="let element"> {{element.fullname}} </td>
  </ng-container>

   <!-- Symbol Column -->
   <ng-container matColumnDef="action">
    <th mat-header-cell *matHeaderCellDef> Action </th>
    <td mat-cell *matCellDef="let element"> <div class="button-row">
      <button mat-icon-button (click)="editQuery(element.id)">
          <mat-icon>border_color</mat-icon>
        </button>
  </div></td>
  </ng-container>

  <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
  <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
</table>

<!-- <div class="container" fxLayout fxLayout.xs="column" fxLayoutAlign="right" fxLayoutGap="12px" fxLayoutGap.xs="0">
  <div fxFlex="100%">
    <mat-card >
      <mat-card-header  class="card-header">
      <mat-card-title  class="card-header-text">USERS BEHAVIOUR</mat-card-title>
            <mat-card-subtitle  class="card-header-text">24 hour perfomance</mat-card-subtitle>
          </mat-card-header>
            <div class="flex-item">
              <div style="display: block;">
              <canvas baseChart  style="height: 200px;"
                          [datasets]="lineChartData"
                          [labels]="lineChartLabels"
                          [options]="lineChartOptions"
                          [colors]="lineChartColors"
                          [legend]="lineChartLegend"
                          [chartType]="lineChartType"
                          [plugins]="lineChartPlugins"></canvas>
              </div>
            </div>
    </mat-card>
  </div>
</div> -->
<div class="container" fxLayout fxLayout.xs="column" fxLayoutAlign="right" fxLayoutGap="12px" fxLayoutGap.xs="0">
  <div fxFlex="30%">
    <mat-card >
      <mat-card-header class="card-header">
      <mat-card-title class="card-header-text">Query resolution</mat-card-title>
            <mat-card-subtitle class="card-header-text">last campaign perfomance</mat-card-subtitle>
      </mat-card-header>
            <div>
              <div>
                <div >
                  <canvas baseChart style="height: 310px;"
                    [data]="pieChartData"
                    [labels]="pieChartLabels"
                    [chartType]="pieChartType"
                    [options]="pieChartOptions"
                    [plugins]="pieChartPlugins"
                    [colors]="pieChartColors"
                    [legend]="pieChartLegend">
                    
                  </canvas>
                </div>
              </div>
            </div>
            <!-- <div>
              <button mat-button mat-raised-button color="primary" (click)="pieChartLegend=!pieChartLegend">Toggle Legend</button>
              <button mat-button mat-raised-button color="primary" (click)="changeLabels()">Change Labels</button>
              <button mat-button mat-raised-button color="primary" (click)="addSlice()">Add Slice</button>
              <button mat-button mat-raised-button color="primary" (click)="removeSlice()">Remove Slice</button>
              <button mat-button mat-raised-button color="primary" (click)="changeLegendPosition()">Change Legend Position</button>
            </div> -->
    </mat-card>
  </div>
  <div fxFlex="70%">
    <mat-card >
      <mat-card-header class="card-header">
      <mat-card-title  class="card-header-text">query categories</mat-card-title>
            <mat-card-subtitle  class="card-header-text">failed products</mat-card-subtitle>
          </mat-card-header>
            <div>
              <div>
                <div style="display: block">
                  <canvas baseChart
                    [datasets]="barChartData"
                    [labels]="barChartLabels"
                    [options]="barChartOptions"
                    [plugins]="barChartPlugins"
                    [legend]="barChartLegend"
                    [chartType]="barChartType">
                  </canvas>
                </div>
                <!-- <button mat-button mat-raised-button color="primary" (click)="randomize()">Update</button> -->
              </div>
            </div>
    </mat-card>
  </div>
</div>

<div class="card-body ">
  
</div>

<div class="card-body ">
  
</div>

